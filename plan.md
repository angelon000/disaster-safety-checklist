# 재난·안전 체크리스트 시스템 설계 문서

**시스템 개요**: 지자체·건설현장·사업장을 위한 재난·안전 체크리스트 자동 생성 시스템

이 문서는 맞춤형 체크리스트 프로그램을 지자체·사업장·건설현장 등에 적용하기 위한 **정보 수집 및 설계 프레임워크**입니다. 실행 가능성과 시장 적용성을 함께 고려한 체계로 정리했습니다.

**문서 구성**:
- **1~5장**: 배경 및 설계 프레임워크 (초기 기획 시 작성)
- **"재난·안전 체크리스트 시스템" 섹션 이하**: v1.0 구현 상태 및 v2.0 계획 (실제 구현 기준)

---

## 1. 수집해야 할 데이터 및 정보 범주

체크리스트 프로그램이 유효하려면 여러 입력 정보가 필요합니다. 아래는 주요 범주입니다.

| 범주                       | 구체 항목                                                                                                  | 목적 및 활용                               |
| ------------------------ | ------------------------------------------------------------------------------------------------------ | ------------------------------------- |
| **지자체/지역 특성 정보**         | 지자체명, 행정구역(시/군/구), 인구정도·밀도, 지형·기후특성, 재난발생 이력(홍수, 태풍, 산불 등)                                             | 각 지자체별로 “어떤 재난이 빈번하고 어떤 대비가 필요한가”를 파악 |
| **최신 재난·안전 동향 및 뉴스**     | 해당 지자체에서 최근 발표된 재난상황·안전사고·위험요인 뉴스, 행정안전부·지방자치단체 공지사항 등                                                 | 체크리스트 항목을 최신 이슈 반영형으로 업데이트 가능         |
| **공공 데이터 플랫폼 정보**        | 예컨대 재난안전데이터공유플랫폼(K-data) 등을 통한 자연/사회 재난 데이터셋 ([안전데이터][1])                                              | 자동화된 데이터 연계 및 인사이트 확보 가능              |
| **사업장·건설현장별 특성 정보**      | 사업장 유형(제조, 서비스, 공사현장 등), 규모, 인원수, 위험요인(고층건물·지하공사 등), 관련 법규 및 기준                                        | 체크리스트를 사업장 맞춤형으로 구성하기 위함              |
| **재난 대비 매뉴얼·체크리스트 연구자료** | 예컨대 “과거 사례분석을 통한 재난 의사결정 체크리스트 구성에 관한 연구” ([KCI][2]) 또는 “도시 방재력 진단을 위한 지표 및 체크리스트 개발” ([국립재난안전연구원][3]) | 체크리스트 항목 설계·구조화에 참고                   |
| **기술 동향 및 솔루션 정보**       | AI·빅데이터 기반 재난관리 혁신 담론 ([SPRi][4])                                                                      | 프로그램 차별화·고도화 가능성을 확보                  |

---

## 2. 데이터 수집 방법 및 자동화 구조

실제 프로그램 구축 시 고려해야 할 흐름은 다음과 같습니다.

* 뉴스·공지사항 수집

  * RSS 피드, 웹크롤러 또는 API를 통해 지자체·행정기관 보도자료나 공지사항을 정기 수집
  * 키워드 기반 필터링(예: “침수”, “붕괴”, “산불”, “안전점검” 등)
* 공공 데이터 연계

  * 재난안전데이터공유플랫폼 등을 통해 API 또는 데이터 다운로드 방식 확보 ([안전데이터][1])
  * 데이터 항목: 지자체별 재난발생 건수, 피해액, 유형, 경보발령횟수 등
* 지자체·사업장 정보 확보

  * 지자체 웹사이트, 지자체 공개자료(재해이력, 방재계획) 수집
  * 사업장 고객 인터뷰 또는 설문을 통한 특성 수집
* 체크리스트 항목 생성 알고리즘 또는 로직

  * 해당 지자체·사업장의 입력정보(재난빈도, 지형특성, 규모 등)에 따라 자동으로 체크리스트 항목·우선순위 제안
* 업데이트 & 피드백 루프

  * 사용자(사업장 관리자 등)의 점검결과, 실제 사고·이슈 여부 등을 재입력 받아 알고리즘 개선
  * 최신 뉴스·데이터 반영 주기 설계(예: 주간, 월간)

---

## 3. 체크리스트 프로그램 설계 구조

프로그램 설계 시 고려해야 할 주요 기능·모듈은 아래와 같습니다.

### 3.1 사용자 입력/관리 모듈

* 지자체 선택 또는 사업장 위치 입력
* 사업장 유형, 규모, 인원수, 주요 위험요인 등 속성 입력
* 사용자 역할 (관리자, 점검자) 구분
* 점검 주기 설정 (예: 월 1회, 분기 1회)

### 3.2 데이터 분석 및 맞춤제안 모듈

* 지자체 및 사업장 특성에 기반한 위험도 산정
* 최근 뉴스·공공데이터 인사이트 반영
* 맞춤형 체크리스트 생성

  * 예: 홍수 위험이 높은 지자체 → 배수로 점검, 대피훈련 항목 강화
  * 건설현장 규모가 큰 사업장 → 높이·지하공사 관련 안전점검 항목 강화
* 체크리스트 우선순위 및 가중치 적용

### 3.3 체크리스트 실행 및 점검 모듈

* 각 항목에 대해 점검 여부(완료/미완료), 담당자, 점검일 기록
* 사진업로드 또는 증빙자료 첨부 기능
* 자동 알림 기능 (예: 점검일 3일 전 알림)
* 보고서 생성 기능 (PDF 또는 대시보드)

### 3.4 결과·피드백 및 개선 모듈

* 점검 결과 데이터 누적 → 위험 항목 트렌드 분석
* 사업장별 비교·벤치마크 (예: 동일 유형 사업장 평균 대비)
* 뉴스·데이터 변화에 따라 체크리스트 항목 자동 업데이트 제안
* 관리자용 대시보드 및 KPI 보고

### 3.5 API 및 외부 데이터 연계 모듈

* 지자체 뉴스·공지사항 크롤링/피드
* 공공데이터 플랫폼 API 연계
* (선택) IoT 센서·CCTV 영상 분석기술 연계 가능성 고려 ([Mois][5])

---

## 4. 시장 적용 및 비즈니스 모델 고려사항

재난·안전 체크리스트 시스템을 시장에 적용할 때 고려해야 할 사항입니다.

### 4.1 고객 세그먼트

* 지자체: 재난 대비 역량 강화 수요
* 사업장: 제조업, 건설현장, 물류창고 등 안전점검 강제 대상
* 건설사·플랜트업체: 현장 안전관리 및 규제 대응 필요
* 보험사·컨설팅사: 위험관리 솔루션으로 활용 가능

### 4.2 수익모델

* 구독형 서비스(SaaS): 사업장 규모별 월/연 요금제
* 지자체 대상 패키지 모델: 라이선스 또는 프로젝트 기반
* 추가 분석 보고서, 컨설팅 서비스 제공
* 데이터 기반 인사이트 리포트 판매

### 4.3 차별화 및 경쟁우위

* 자동화된 최신 뉴스·데이터 연계 → 체크리스트 자동업데이트
* 사업장·지자체 맞춤형 체크리스트 설계 및 점검관리 플랫폼
* AI·빅데이터 기반 위험도 산정 및 우선순위 제시 ([SPRi][4])
* 사진·증빙업로드·모바일 점검 기능 포함

### 4.4 규제·표준 고려

* 관련 법령 및 지침 준수: 지자체별 방재계획, 사업장 안전관리법령
* 개인정보·사진데이터 처리 관련 보안·프라이버시 고려
* 공공데이터 이용시 이용약관/저작권 준수 ([안전한국][6])

### 4.5 실행 로드맵 제안

* **1단계**: 핵심 MVP 개발 ― 지자체·사업장 입력 → 맞춤 체크리스트 자동생성 → 점검 완료/미완료 기록 기능
* **2단계**: 외부 데이터 연계 추가 ― 뉴스 크롤러, 공공데이터 API, 위험도 산정 알고리즘 탑재
* **3단계**: 고급 기능 구현 ― 분석 대시보드, 벤치마크, AI 기반 위험 예측
* **4단계**: 시장확대 및 마케팅 ― 지자체 계약, 사업장 대상 영업, 보험사·컨설팅사 연계

---

## 5. 주요 리스크 및 대응 전략

* **데이터 품질 문제**: 뉴스 크롤링·공공데이터의 경우 최신성·신뢰성에 편차 있음 → 정기 모니터링 및 필터링 체계 구축
* **사용자 도입 저항**: 사업장이 기존 수작업 점검에 익숙할 수 있음 → 사용 편의성 확보, 모바일 UI/UX 강화
* **지자체 도입 절차 복잡성**: 공공기관 사업 수주 대비시간 큼 → 민간사업장 중심으로 먼저 검증
* **규제 변화 가능성**: 재난·안전 관련 정책·기준이 바뀔 수 있음 → 콘텐츠 유연성 확보

---

[1]: https://www.safetydata.go.kr/?utm_source=chatgpt.com "재난안전데이터공유플랫폼"
[2]: https://www.kci.go.kr/kciportal/ci/sereArticleSearch/ciSereArtiView.kci?sereArticleSearchBean.artiId=ART002604800&utm_source=chatgpt.com "과거 사례분석을 통한 재난 의사결정 체크리스트 구성에 관한 ..."
[3]: https://www.ndmi.go.kr/home/board/download.do?bid=5&did=40278&fno=604&menukey=6040&utm_source=chatgpt.com "도시 방재력 진단을 위한 지표 및 체크리스트 개발"
[4]: https://www.spri.kr/download/23698?utm_source=chatgpt.com "AI와 빅데이터에 기반한 지방정부 재난관리의 혁신"
[5]: https://mois.go.kr/frt/sub/a06/b10/cctvBasedonAi/screen.do?utm_source=chatgpt.com "AI 기반 CCTV 관제지원시스템 - 안전예방정책실"
[6]: https://www.safekorea.go.kr/idsiSFK/neo/sfk/cs/ppn/dsf/dsfsurveyUsrFrom.jsp?menuSeq=137&utm_source=chatgpt.com "재난대비안전점검"

---

> **📌 과거 콘텐츠 도메인 설계 문서**는 [plan_content_archived.md](plan_content_archived.md)로 이동했습니다.

---

# 재난·안전 체크리스트 시스템

**시스템 개요**: 지자체·건설현장·사업장을 위한 재난·안전 체크리스트 시스템 (재난 데이터 수집 + 자동 체크리스트 생성 + 대시보드)

**대상**: 지자체, 건설현장, 사업장, 공공시설 관리자
**목적**: 시설 유형·점검 단계별 맞춤형 재난·안전 체크리스트 자동 생성 및 관리
**현재 버전**: v1.0 (기본 템플릿 기반 체크리스트 생성 + 웹 대시보드)
**코드 저장소**: `d:\dev\kcl\`

---

## 현재 구현 상태 (v1.0)

### ✅ 구현 완료

**1. 체크리스트 생성 엔진**
- 8개 카테고리, 28개 질문 템플릿 기반 체크리스트 자동 생성
- 9개 시설 유형 지원: 지자체, 건설현장, 제조사업장, 물류창고, 상업시설, 교육시설, 의료시설, 주거시설, 기타
- 5개 점검 단계 지원: 초기 평가, 정기 점검, 재난 발생 시, 복구 후, 연간 종합
- Markdown/JSON 형식 출력

**2. 데이터 수집 (키워드 검색 수준)**
- 웹 리서치: 키워드 기반 검색 및 더미 데이터 제공
- 논문 리서치: 샘플 논문 데이터 카탈로그
- 기술 트렌드: GitHub 키워드 예시 제공
- 공공 API: 추천 API 목록 카탈로그

**3. 웹 대시보드 (FastAPI + Jinja2)**
- 프로젝트 생성/조회/삭제 UI
- 통계 대시보드 (전체 프로젝트 수, 시설 유형별/점검 단계별 분포)
- SQLite 기반 프로젝트 관리
- Bootstrap 5 기반 반응형 UI

**4. CLI 도구**
- `python main.py generate` - 체크리스트 생성
- `python main.py list` - 프로젝트 목록 조회
- `python main.py config` - 설정 확인

### 🔄 부분 구현 (카탈로그/더미 데이터 수준)

- 웹 리서치: 실제 크롤링 없이 키워드 기반 더미 데이터
- 논문 리서치: API 연동 없이 샘플 논문 정보
- 기술 트렌드: GitHub 실제 API 호출 없이 예시 데이터
- 공공 API: API 목록 추천만 제공

### ⏳ 미구현 (v2.0 계획)

- 실제 웹 크롤링 및 RSS 피드 연동
- Semantic Scholar/arXiv 등 논문 API 실제 연동
- GitHub API 실제 호출 및 분석
- 시설 유형별 차별화된 질문 세트
- AI 기반 위험도 분석 및 우선순위 산정
- 실시간 알림 및 점검 일정 관리

---

## 1. 체크리스트 카테고리 구조 (v1.0)

### 8개 카테고리 (공통 템플릿)

실제 구현 기준 (`src/checklist/templates.py`):

| 카테고리 | 주요 점검 항목 | v1.0 구현 |
|---------|--------------|----------|
| **위험도 평가** (risk_assessment) | 과거 재난 이력, 지리적 위험, 취약성 분석 | ✅ 4개 질문 |
| **재난 대비** (disaster_prep) | 대피 계획, 비상 물품, 교육·훈련, 소화 설비 | ✅ 4개 질문 |
| **안전 점검** (safety_check) | 시설물 점검, 전기·가스 설비, 위험물 관리, CCTV·경보 | ✅ 4개 질문 |
| **비상 대응** (emergency_response) | 비상연락망, 대응 조직, 실시간 모니터링, 외부 지원 | ✅ 4개 질문 |
| **법규·인증** (legal_compliance) | 안전 법규 준수, 필요 인증, 정기 보고 | ✅ 3개 질문 |
| **조직·책임** (organization) | 안전관리자 지정, 예산 확보, 대응 매뉴얼 | ✅ 3개 질문 |
| **모니터링·개선** (monitoring) | 점검 이력 관리, 사후 조치, 개선 활동 | ✅ 3개 질문 |
| **지역 협력** (cooperation) | 소방·경찰 협력, 지역 공동 대응, 정보 공유 | ✅ 3개 질문 |

**총 28개 질문** (카테고리당 평균 3.5개)

**v2.0 계획**: 시설 유형별로 차별화된 질문 세트 (예: 건설현장은 중장비 안전, 의료시설은 환자 대피 등)

---

## 2. 데이터 수집 방법

### v1.0 구현 (키워드 검색 및 더미 데이터)

**웹 리서치 모듈**
- 키워드 입력 시 더미 뉴스·보도자료 데이터 반환
- 실제 크롤링 없이 샘플 데이터 제공
- 목적: UI/UX 테스트 및 데이터 구조 검증

**논문 리서치 모듈**
- 재난 관련 샘플 논문 카탈로그 제공
- API 연동 없이 하드코딩된 예시 데이터
- 목적: 논문 데이터 활용 방식 검증

**기술 트렌드 모듈**
- GitHub 키워드 예시 및 더미 레포지토리 정보
- 실제 API 호출 없음
- 목적: 기술 스택 추천 로직 테스트

**공공 API 모듈**
- 재난안전데이터공유플랫폼, 안전한국 등 API 목록 제공
- 실제 API 연동 없음
- 목적: 활용 가능 API 카탈로그

### v2.0 계획 (실제 API 연동 및 크롤링)

**웹 리서치**
- RSS 피드 자동 수집 (행정안전부, 지자체 공지사항)
- BeautifulSoup/Scrapy 기반 웹 크롤링
- 키워드 필터링 및 요약 생성 (LLM 기반)

**논문 리서치**
- Semantic Scholar API 실제 연동
- CrossRef, arXiv API 호출
- 논문 수·최신성 기반 기술 성숙도 분석

**기술 트렌드**
- GitHub API 실제 호출 (스타, 커밋, 포크 수)
- PyPI/npm 패키지 검색
- 기술 스택 성숙도 점수화

**공공 API**
- 재난안전데이터공유플랫폼 API 실제 연동
- 지자체별 재난 이력 데이터 자동 조회
- 위험도 산정 알고리즘 적용

---

## 3. 프로그램 설계

### 3.1 체크리스트 생성 엔진

**v1.0 구현**
- `templates.py`: 8개 카테고리, 28개 공통 질문 템플릿
- `generator.py`: 시설 유형·점검 단계 입력 → 템플릿 기반 체크리스트 생성
- Markdown/JSON 형식 출력

**v2.0 확장**
- 시설 유형별 차별화 질문 세트 (예: 건설현장 vs 의료시설)
- 데이터 수집 결과 기반 질문 우선순위 자동 조정
- AI 기반 위험도 분석 및 맞춤형 질문 추가

### 3.2 데이터 수집 모듈

**v1.0 구현**
- `collectors/web_researcher.py`: 더미 웹 데이터 반환
- `collectors/paper_researcher.py`: 샘플 논문 카탈로그
- `collectors/tech_researcher.py`: 더미 GitHub 데이터
- `collectors/api_researcher.py`: API 목록 카탈로그

**v2.0 확장**
- 실제 크롤링·API 연동
- 데이터 정규화 및 DB 저장
- 자동 업데이트 스케줄링 (Celery)

### 3.3 데이터베이스 및 저장소

**v1.0 구현**
- SQLite 기반 프로젝트 관리 (`data/projects.db`)
- 테이블: `projects` (id, keyword, facility_type, check_phase, metadata, created_at 등)

**v2.0 확장**
- PostgreSQL 마이그레이션 (대용량 데이터 처리)
- 수집 데이터 별도 테이블 (web_data, papers, github_repos, apis)
- 프로젝트↔수집데이터 연관 테이블

### 3.4 웹 대시보드 (v1.0 신규 구현)

**기술 스택**
- FastAPI 0.104.1 (백엔드 API)
- Jinja2 (템플릿 엔진)
- Bootstrap 5 + Chart.js (프론트엔드)
- SQLite (데이터베이스)

**주요 기능**
1. **홈 대시보드** (`/`)
   - 전체 프로젝트 수, 최근 7일 생성 수
   - 시설 유형별 분포 차트
   - 점검 단계별 분포 차트
   - 체크리스트 생성 폼 (키워드, 시설 유형, 점검 단계, 중점 영역 입력)

2. **프로젝트 목록** (`/projects`)
   - 프로젝트 카드 형식 목록
   - 키워드 검색 필터
   - 페이지네이션

3. **결과 페이지** (`/result/{id}`)
   - 생성된 체크리스트 미리보기
   - 프로젝트 정보 조회
   - Markdown/JSON 파일 다운로드 링크

4. **API 엔드포인트**
   - `POST /api/generate` - 체크리스트 생성
   - `GET /api/projects` - 프로젝트 목록 조회
   - `GET /api/projects/{id}` - 프로젝트 상세 조회
   - `GET /api/stats` - 통계 정보
   - `GET /download/{id}/markdown` - Markdown 다운로드
   - `GET /download/{id}/json` - JSON 다운로드

5. **API 문서** (`/docs`)
   - FastAPI 자동 생성 Swagger UI

**파일 구조**
```
dashboard/
├── app.py              # FastAPI 앱 메인
├── database.py         # SQLite 데이터베이스 관리
├── templates/
│   ├── base.html      # 공통 레이아웃
│   ├── index.html     # 홈 대시보드 (통계 + 생성 폼)
│   ├── list.html      # 프로젝트 목록
│   └── result.html    # 결과 페이지 (체크리스트 미리보기)
run_dashboard.py       # 대시보드 실행 스크립트
```

**실행 방법**
```bash
python run_dashboard.py
# → http://localhost:8000 자동 오픈
```

**v2.0 확장 계획**
- 사용자 인증 및 권한 관리
- 프로젝트 편집 기능 (수정/삭제)
- 점검 결과 입력 및 이력 관리 (점검 완료/미완료 체크, 담당자 지정)
- 실시간 알림 (점검일 임박, 위험 알림)
- 대시보드 차트 고도화 (시계열 분석, 위험도 히트맵)
- 모바일 반응형 개선 및 PWA 지원

---

## 4. 기술 스택

**v1.0 구현**
- Python 3.9+
- FastAPI 0.104.1 (웹 대시보드)
- Jinja2 3.1.2 (템플릿)
- SQLite (데이터베이스)
- Bootstrap 5 + Chart.js (프론트엔드)
- Uvicorn (ASGI 서버)

**v2.0 추가 예정**
- PostgreSQL (데이터베이스)
- Celery + Redis (비동기 작업)
- BeautifulSoup4/Scrapy (웹 크롤링)
- Semantic Scholar API, arXiv API (논문)
- PyGithub (GitHub API)
- LLM API (GPT-4/Claude) - 요약 및 분석

---

## 5. 구현 로드맵

### ✅ 1단계 (v1.0) - 완료

- [x] 템플릿 기반 체크리스트 생성 엔진
- [x] 8개 카테고리, 28개 공통 질문
- [x] 9개 시설 유형, 5개 점검 단계
- [x] CLI 도구 (`main.py`)
- [x] 웹 대시보드 (FastAPI)
- [x] SQLite 프로젝트 관리
- [x] Markdown/JSON 출력
- [x] 더미 데이터 수집 모듈

### 🔄 2단계 (v2.0) - 계획

**2.1 데이터 수집 실제 연동**
- [ ] 웹 크롤링 (RSS, 뉴스, 공지사항)
- [ ] 논문 API 연동 (Semantic Scholar, arXiv)
- [ ] GitHub API 연동
- [ ] 공공데이터 API 연동 (재난안전데이터공유플랫폼)

**2.2 체크리스트 고도화**
- [ ] 시설 유형별 차별화 질문 세트
- [ ] 수집 데이터 기반 질문 우선순위 자동 조정
- [ ] AI 기반 위험도 분석

**2.3 대시보드 확장**
- [ ] 사용자 인증 및 권한 관리
- [ ] 프로젝트 편집 기능
- [ ] 점검 결과 입력 및 이력 관리
- [ ] 실시간 알림
- [ ] 고급 차트 및 분석

**2.4 인프라 개선**
- [ ] PostgreSQL 마이그레이션
- [ ] Celery 비동기 작업 큐
- [ ] Docker 컨테이너화
- [ ] CI/CD 파이프라인

### 🚀 3단계 (v3.0) - 향후 계획

- LLM 기반 자동 요약 및 인사이트 생성
- IoT 센서·CCTV 연동
- 모바일 앱 (점검 현장 입력)
- 다국어 지원
- API 개방 (외부 시스템 연동)

---

## 6. 사용 시나리오 예시

**시나리오**: "○○시 지자체 재난안전 점검" 프로젝트

### v1.0 (현재)

1. 웹 대시보드 접속 (`http://localhost:8000`) - 홈 페이지
2. 통계 확인 (전체 프로젝트 수, 시설 유형별/점검 단계별 분포)
3. 체크리스트 생성 폼 입력:
   - 키워드: "○○시 지자체 재난안전"
   - 시설 유형: 지자체
   - 점검 단계: 초기 평가
   - 중점 영역: 법규 준수
4. "체크리스트 생성" 버튼 클릭
5. 결과 페이지 (`/result/{id}`)로 이동 → 체크리스트 미리보기
6. Markdown/JSON 파일 다운로드
7. "프로젝트 목록" 메뉴에서 과거 프로젝트 조회·관리

**CLI 사용 예시**:
```bash
python main.py generate \
  --keyword "○○시 지자체 재난안전" \
  --facility-type 지자체 \
  --check-phase "초기 평가" \
  --focus-area "법규 준수"
```

### v2.0 (계획)

1. 프로젝트 생성 시 ○○시 재난 이력 데이터 자동 조회
2. 최근 뉴스·공지사항 크롤링 (침수 위험, 태풍 경보 등)
3. 관련 논문 검색 (공공시설 재난 대응 연구)
4. AI 기반 위험도 분석 → 우선순위 질문 자동 조정
5. 체크리스트 생성 + 참고자료 링크 첨부
6. 점검 결과 입력 → 위험 항목 트렌드 분석
7. 알림: "다음 점검일 3일 전 알림"

---

## 7. 주요 차별점

**v1.0**
- 시설 유형·점검 단계별 자동 체크리스트 생성
- 웹 대시보드 기반 프로젝트 관리
- 빠른 MVP 검증 (더미 데이터 기반)

**v2.0 (계획)**
- 실시간 데이터 수집 및 자동 업데이트
- AI 기반 위험도 분석 및 우선순위 산정
- 데이터 기반 인사이트 제공 (논문, 뉴스, 공공데이터)
- 점검 이력 관리 및 트렌드 분석

---

**문서 상태**: v1.0 완료 (2025-11-18)
**다음 업데이트**: v2.0 데이터 수집 모듈 실제 연동 시작 예정
