# hsnewbio AGENT 가이드

이 리포지토리에서 AI 에이전트가 작업할 때 따라야 할 기본 규칙입니다.

## 1. 한글/인코딩 관련

- 이 환경에서는 터미널/도구 출력에 한글이 깨져 보일 수 있지만, **파일 내부 한글은 정상**이라고 가정합니다.
- 따라서:
  - "깨진 한글"처럼 보여도 **임의로 삭제·영문화·정규화하지 않습니다.**
  - 문자열 패치는 내용 의미를 바꿀 필요가 있을 때만, **최소 범위**로 수행합니다.
  - 패치를 할 때는 가능하면 **영문 토큰, 구조(함수명, 키 이름 등), 들여쓰기**를 기준으로 매칭하고,
    한글 내용 전체를 통째로 교체하는 식의 큰 변경은 피합니다.

## 2. 패치/리팩터링 원칙

- 이 리포지토리는 이미 상당한 양의 코드와 문서를 포함하고 있으므로:
  - 버그 수정이나 기능 추가 등 **목표와 직접 관련된 부분만** 수정합니다.
  - 대규모 리포맷팅, 광범위한 리네이밍, 불필요한 리팩터링은 하지 않습니다.
  - `apply_patch` 사용 시:
    - 가능한 한 **작은 블록**만 변경하고,
    - 현재 파일 내용을 먼저 확인한 후, 정확히 일치하는 부분만 패치합니다.
- 사업계획서 Word 템플릿(`generate_business_plan.py`)과
  자동 파이프라인(`auto_business_plan.py`)은 실제로 사용 중인 코드이므로,
  동작이 깨질 수 있는 구조 변경은 피하고 **보수적으로 수정**합니다.

## 3. 기능별 파일 역할 인지

- `api_pubchem.py` / `api_chembl.py` / `api_pubmed.py`  
  - 모두 **실제 공개 API**를 호출하는 모듈입니다.
  - Rate limit, 오류 처리 로직은 건드리지 말고, 필요시 기능을 **확장하는 쪽으로만** 수정합니다.

- `mvp.py`  
  - 시장/규제 관련 검색 키워드 생성 및 검색 결과 요약용 CLI입니다.
  - 검색 엔진 종류(Bing, Google 등)를 교체/추가할 때는 기존 인터페이스를 유지하려고 노력합니다.

- `generate_business_plan.py`  
  - Word 사업계획서의 **문서 구조(섹션 1~9)**를 정의합니다.
  - 섹션 제목, 순서를 바꾸기보다는 **내용(문장/문단)을 추가·보완**하는 방식으로 변경합니다.

- `auto_business_plan.py`  
  - "실제 데이터 수집 → 분석 → Word 사업계획서 생성" 전체 파이프라인입니다.
  - 새로운 데이터 소스를 연결하거나 분석 로직을 바꿀 때는,
    중간 결과(수집 개수, 분석 요약)가 **로그에 명확히 남도록** 유지합니다.

## 4. 문서(README, plan.md 등) 편집

- 문서 파일에서:
  - 한글 문장은 **의도와 의미를 유지**하는 선에서만 수정합니다.
  - "데모 vs 실제 데이터", "API 사용 방법", "자동 파이프라인 실행 방법"은
    독자가 빠르게 이해할 수 있게 **짧은 시나리오/예시 코드** 위주로 정리합니다.
- `README_API.md` 에는:
  - 각 API/모듈의 역할(효능, 생물활성, 시장, 문헌 등)을
    **표나 Bullet 형태로 분명히** 나누어 설명합니다.
  - `auto_business_plan.py` 를 이용한 **전체 자동 파이프라인 실행 예시**를 항상 포함합니다.

## 5. 대화 스타일 / 설명 수준

- 이 리포지토리는 실제 업무에서 활용되는 도구이므로:
  - 설명은 **실행 명령 + 기대 결과**를 중심으로 짧고 명확하게 작성합니다.
  - "이걸 왜 하는지"와 "어디까지 실제 데이터인지"를 항상 같이 언급합니다.
  - 불확실한 부분은 추측하지 말고, **현재 한계와 필요한 추가 설정(API 키 등)** 을 분리해서 설명합니다.

